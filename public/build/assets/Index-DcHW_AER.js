import{u as e,x as t,p as a,z as l,l as s,e as r,f as o,n,j as i,m as u,q as d,y as c,g as v,t as g,w as p,k as x,F as y,A as b,o as m,B as h}from"./vue-vendor-Bxumgq5c.js";import{u as f,_ as w}from"./Navbar-CQX3_KVs.js";const k={class:"max-w-7xl mx-auto py-8 px-4"},C={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},_={class:"lg:col-span-1"},P={class:"sticky top-20"},U={key:0,class:"mt-2 text-red-500 text-xs"},j=["disabled"],S={class:"lg:col-span-2"},V={key:1,class:"space-y-3"},$=["onClick"],D={class:"flex items-start justify-between mb-2"},T=["onClick","title"],q={key:0},A={__name:"Index",props:{pastes:Array},setup(A){const{isDark:E}=f(),L=e({title:"",content:"",expiration_date:""}),N=t(!1),O=t({}),z=t(null),B=t(null),F=a(()=>["min-h-screen transition-colors",E.value?"bg-gray-950 text-gray-100":"bg-gray-50 text-gray-900"]);a(()=>E.value?"text-white":"text-gray-900");const G=a(()=>E.value?"text-white":"text-gray-900"),I=a(()=>E.value?"text-gray-300":"text-gray-700"),R=a(()=>["w-full px-3 py-2 rounded text-sm font-mono border transition-colors focus:outline-none focus:border-blue-500",E.value?"bg-gray-800 border-gray-700 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"]),H=a(()=>["w-full px-4 py-2 disabled:opacity-50 text-white font-medium rounded transition text-sm bg-blue-600 hover:bg-blue-700"]),J=a(()=>["mt-4 p-3 rounded text-sm border transition-colors",E.value?"bg-green-950 border-green-800":"bg-green-100 border-green-300"]),K=a(()=>E.value?"text-green-200":"text-green-800"),M=a(()=>E.value?"text-green-300 hover:text-green-200 underline text-xs":"text-green-700 hover:text-green-600 underline text-xs"),Q=a(()=>["text-center py-12 rounded border transition-colors",E.value?"bg-gray-900 border-gray-800":"bg-white border-gray-200"]),W=a(()=>E.value?"text-gray-400":"text-gray-600"),X=a(()=>["block p-4 rounded border transition-all",E.value?"bg-gray-900 border-gray-800 hover:border-blue-500 hover:bg-gray-800":"bg-white border-gray-200 hover:border-blue-500 hover:bg-gray-50"]),Y=a(()=>E.value?"text-white":"text-gray-900"),Z=a(()=>E.value?"text-gray-400":"text-gray-600"),ee=a(()=>(E.value,"text-gray-500")),te=a(()=>E.value?"text-gray-500":"text-gray-600"),ae=a(()=>["px-2 py-1 rounded transition-colors",E.value?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-700"]),le=()=>{N.value=!0,O.value={},z.value=null,L.post("/pastes",{onError:e=>{O.value=e,N.value=!1},onSuccess:e=>{N.value=!1,e.props&&e.props.lastPaste&&(z.value=e.props.lastPaste.slug,L.title="",L.content="")}})};return(e,t)=>{const a=l("Link");return m(),s("div",{class:n(F.value)},[r(w),o("div",k,[o("div",C,[o("div",_,[o("div",P,[o("h2",{class:n(["text-2xl font-bold mb-6",G.value])},"Create Paste",2),o("form",{onSubmit:i(le,["prevent"]),class:"space-y-4"},[o("div",null,[o("label",{for:"title",class:n(["block text-sm font-medium mb-2",I.value])},"Title (Optional)",2),d(o("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>v(L).title=e),type:"text",placeholder:"Give your paste a title...",class:n(R.value)},null,2),[[c,v(L).title]])]),o("div",null,[o("label",{for:"content",class:n(["block text-sm font-medium mb-2",I.value])},"Content",2),d(o("textarea",{id:"content","onUpdate:modelValue":t[1]||(t[1]=e=>v(L).content=e),placeholder:"Paste your content here...",rows:"16",class:n(R.value)},null,2),[[c,v(L).content]]),O.value.content?(m(),s("p",U,g(O.value.content),1)):u("",!0)]),o("div",null,[o("label",{for:"expiration-home",class:n(["block text-sm font-medium mb-2",I.value])},"Expiration (Optional)",2),d(o("input",{id:"expiration-home","onUpdate:modelValue":t[2]||(t[2]=e=>v(L).expiration_date=e),type:"date",class:n(R.value)},null,2),[[c,v(L).expiration_date]])]),o("button",{type:"submit",disabled:N.value,class:n(H.value)},g(N.value?"Creating...":"Create Paste"),11,j),z.value?(m(),s("div",{key:0,class:n(J.value)},[o("p",{class:n(K.value)},"✓ Paste created!",2),r(a,{href:`/pastes/${z.value}`,class:n(M.value)},{default:p(()=>[...t[3]||(t[3]=[x(" View your paste ",-1)])]),_:1},8,["href","class"])],2)):u("",!0)],32)])]),o("div",S,[o("h2",{class:n(["text-2xl font-bold mb-6",G.value])},"Recent Pastes",2),0===A.pastes.length?(m(),s("div",{key:0,class:n(Q.value)},[o("p",{class:n(W.value)},"No pastes yet. Create one to get started!",2)],2)):(m(),s("div",V,[(m(!0),s(y,null,b(A.pastes,e=>{return m(),s("div",{key:e.id,onClick:t=>{return a=e.slug,void h.visit(`/pastes/${a}`);var a},class:n([X.value,"cursor-pointer"])},[o("div",D,[o("h3",{class:n(["text-lg font-bold flex-1",Y.value])},g(e.title||"Untitled Paste"),3),o("span",{class:n(["text-xs ml-2 whitespace-nowrap",ee.value])},g((t=e.created_at,new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))),3)]),o("p",{class:n(["text-sm mb-2 line-clamp-2 font-mono",Z.value])},g(e.content.substring(0,120))+g(e.content.length>120?"...":""),3),o("div",{class:n(["flex items-center gap-3 text-xs",te.value])},[o("span",{class:n([ae.value,"cursor-pointer hover:opacity-80 transition"]),onClick:i(t=>(async e=>{try{const t=`${window.location.origin}/pastes/${e}`;await navigator.clipboard.writeText(t),B.value=e,setTimeout(()=>B.value=null,2e3)}catch(t){}})(e.slug),["stop"]),title:B.value===e.slug?"Copied!":"Click to copy"},g(B.value===e.slug?"✓ Copied":e.slug),11,T),o("span",null,g(e.views||0)+" views",1),e.user_id?(m(),s("span",q,"by User #"+g(e.user_id),1)):u("",!0)],2)],10,$);var t}),128))]))])])])],2)}}};export{A as default};
